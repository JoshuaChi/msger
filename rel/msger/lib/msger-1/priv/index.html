<!DOCTYPE html>
<html><head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js">
  </script>
  <script src="http://cdn.sockjs.org/sockjs-0.3.4.min.js">
  </script>
  <script src="/js/main.js"></script>
  <style>
      .box {
          border: 1px dashed black;
          border-radius: 4px;
          -moz-border-radius: 4px;
          width: 400px;
          display: block;
          height: 300px;
          float: left;
      }
      #output {
          border-color: grey;
          overflow:auto;
      }
      #input {
          vertical-align: text-top;
          -moz-outline-style: none;
          outline-style: none;
          outline-width: 0px;
          outline-color: -moz-use-text-color;
      }
      body {
          background-color: #F0F0F0;
      }
  </style>
</head><body lang="en">
    <h2>WebHook Chat Room</h2>
    <form id="form">
      <input id="input" autocomplete="off" class="box"
             placeholder="type something here" />
    </form>
    <div id="output" class="box"></div>
		<script>
    $('#input').focus();
		$('#form').submit(function() {
	      var val = $('#input').val();
	      $('#input').val('');
	      var l = ' [ Me ] sending: ' + JSON.stringify(val);
	      if (main.getState() !== SockJS.OPEN) {
	          l += ' (error, connection not established)';
	      } else {
	          main.send(val);
	      }
	      main.log(l);
	      return false;
	    });

		</script>
</body></html>
